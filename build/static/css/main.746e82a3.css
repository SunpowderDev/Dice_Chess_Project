:root{--l:#e5c29f;--d:#8b5a2b}body{background:repeating-linear-gradient(0deg,#2a1810,#2a1810 2px,#3d2815 0,#3d2815 4px),repeating-linear-gradient(90deg,#2a1810,#2a1810 2px,#3d2815 0,#3d2815 4px),radial-gradient(circle at 20% 30%,#8b5a2b4d 0,#0000 50%),radial-gradient(circle at 80% 70%,#6543214d 0,#0000 50%),linear-gradient(135deg,#1a0f08,#2a1810 50%,#1a0f08);background-attachment:fixed;min-height:100vh}.stand{background:linear-gradient(180deg,#3a2a18,#1a1008);border-radius:16px;box-shadow:0 12px 30px #00000080,inset 0 2px 0 #ffffff14;display:inline-block;padding:12px;transform:perspective(900px) rotateX(3deg)}.bg-consistent-dark-brown{background-color:#1a1008}.tile{align-items:center;border-radius:8px;display:flex;font-size:28px;height:88px;justify-content:center;transition:background-color .2s ease;width:88px}.tL{background:radial-gradient(circle at 30% 30%,#ffffff40,#0000 60%),#e5c29f;background:radial-gradient(circle at 30% 30%,#ffffff40,#0000 60%),var(--l);box-shadow:inset 0 3px 0 #ffffff40,inset 0 -3px 0 #00000026;color:#0b0b0b}.tD{background:radial-gradient(circle at 30% 30%,#ffffff14,#0000 60%),#8b5a2b;background:radial-gradient(circle at 30% 30%,#ffffff14,#0000 60%),var(--d);box-shadow:inset 0 3px 0 #ffffff1f,inset 0 -3px 0 #00000040;color:#f1f1f1}.tile.escape-row.tL{background:repeating-linear-gradient(45deg,#f5e6d3,#f5e6d3 22px,#d4af37 0,#d4af37 44px),radial-gradient(circle at 30% 30%,#ffffff4d,#0000 60%);box-shadow:inset 0 2px 4px #ffffff80,inset 0 -2px 4px #0000001a,0 0 15px #d4af3766;position:relative}.tile.escape-row.tL:before{border:1px solid #d4af3799;border-radius:8px;content:"";inset:0;pointer-events:none;position:absolute;z-index:1}.tile.escape-row.tD{background:repeating-linear-gradient(45deg,#d4af37,#d4af37 22px,#f5e6d3 0,#f5e6d3 44px),radial-gradient(circle at 30% 30%,#fff3,#0000 60%);box-shadow:inset 0 2px 4px #fff6,inset 0 -2px 4px #0003,0 0 15px #d4af374d;position:relative}.tile.escape-row.tD:before{border:1px solid #d4af3780;border-radius:8px;content:"";inset:0;pointer-events:none;position:absolute;z-index:1}.chip{font-feature-settings:"liga" 0;align-items:center;border-radius:9999px;box-shadow:0 8px 18px #00000059,inset 0 2px 0 #ffffff40;display:flex;font-family:Noto Sans Symbols\ 2,Segoe UI Symbol,DejaVu Sans,system-ui,sans-serif;font-size:56px;height:66px;justify-content:center;position:relative;text-rendering:geometricPrecision;transform-origin:50% 50%;width:66px}.chip.pw{background:linear-gradient(180deg,#fff,#e9e9e9);color:#0b0b0b}.chip.pb{background:linear-gradient(180deg,#4a2e1d,#2a1a0e);color:#fff;font-size:58px;text-shadow:0 0 2px #00000080}.chip.pn{background:linear-gradient(180deg,#8b5a2b,#6a553b);color:#2a2015}.chip.courtier-chip{color:#6b4423}.chip.stunned-piece{animation:stun-shake .8s ease-in-out infinite;filter:grayscale(.4) brightness(.8);opacity:.85}.chip.shadow-piece{animation:shadow-pulse 1.2s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(0,0,0,.9)) brightness(.5) contrast(1.3)!important;opacity:.7!important}@keyframes stun-shake{0%,to{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-1px)}20%,40%,60%,80%{transform:translateX(1px)}}@keyframes shadow-pulse{0%,to{filter:drop-shadow(0 0 12px rgba(0,0,0,1)) brightness(.4) contrast(1.4);opacity:.5}50%{filter:drop-shadow(0 0 6px rgba(0,0,0,.8)) brightness(.6) contrast(1.2);opacity:.8}}.obstacle-chip{font-feature-settings:"liga" 0;align-items:center;background:linear-gradient(180deg,#a67c52,#8b6f47);border-radius:9999px;box-shadow:0 4px 8px #0000004d;color:#2a2015;display:flex;font-family:Noto Sans Symbols\ 2,Segoe UI Symbol,DejaVu Sans,system-ui,sans-serif;font-size:60px;height:66px;justify-content:center;text-rendering:geometricPrecision;user-select:none;-webkit-user-select:none;width:66px}.obstacle-chip.courtier{color:#6b4423}.ind{align-items:center;display:flex;inset:0;justify-content:center;pointer-events:none;position:absolute;z-index:2}.dot{background:#34d399;border-radius:9099px;box-shadow:0 0 22px #34d399f2;height:30px;width:30px}.ring{border-radius:9999px;box-shadow:inset 0 0 0 0 #0000004d;height:74px;position:absolute;width:74px}.cap{background:radial-gradient(circle,#22c55e38 0 55%,#0000 60%);box-shadow:0 0 32px 8px #22c55eb3,inset 0 0 0 4px #22c55e59}.sup{background:radial-gradient(circle,#3b82f63d 0 55%,#0000 60%);box-shadow:0 0 32px 8px #3b82f6b3,inset 0 0 0 4px #3b82f659}.warn{background:radial-gradient(circle,#f9731638 0 55%,#0000 60%);box-shadow:0 0 32px 8px #f97316b3,inset 0 0 0 4px #f9731659}.supB{background:linear-gradient(180deg,#3b82f6f2,#2563ebf2);border-radius:10px;box-shadow:0 6px 14px #2563eb73;color:#ecf2ff;font-size:12px;font-weight:800;left:50%;padding:2px 6px;position:absolute;top:-8px;transform:translateX(-50%);z-index:5}.fog{background:linear-gradient(0deg,#0a0a0c9e,#0a0a0c9e),repeating-linear-gradient(45deg,#ffffff0f 0 6px,#0000000f 6px 12px);box-shadow:inset 0 0 16px #000000a6;pointer-events:none;z-index:100}.fog,.forest{border-radius:8px;inset:0;position:absolute}.forest{background-image:url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22g%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%231f4d2e%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%230d2a18%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22url%28%23g%29%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%2248%22%20width%3D%226%22%20height%3D%228%22%20fill%3D%22%235D4037%22%2F%3E%3Cpath%20d%3D%22M32%2018%20L44%2038%20L20%2038%20Z%22%20fill%3D%22%232E7D32%22%2F%3E%3Cpath%20d%3D%22M32%2028%20L42%2044%20L22%2044%20Z%22%20fill%3D%22%23388E3C%22%2F%3E%3Cpath%20d%3D%22M32%2038%20L40%2050%20L24%2050%20Z%22%20fill%3D%22%2343A047%22%2F%3E%3Crect%20x%3D%2210%22%20y%3D%2252%22%20width%3D%224%22%20height%3D%226%22%20fill%3D%22%235D4037%22%2F%3E%3Cpath%20d%3D%22M12%2036%20L20%2048%20L4%2048%20Z%22%20fill%3D%22%232E7D32%22%2F%3E%3Cpath%20d%3D%22M12%2042%20L19%2052%20L5%2052%20Z%22%20fill%3D%22%23388E3C%22%2F%3E%3Crect%20x%3D%2250%22%20y%3D%2254%22%20width%3D%224%22%20height%3D%226%22%20fill%3D%22%235D4037%22%2F%3E%3Cpath%20d%3D%22M52%2040%20L60%2052%20L44%2052%20Z%22%20fill%3D%22%232E7D32%22%2F%3E%3Cpath%20d%3D%22M52%2046%20L59%2056%20L45%2056%20Z%22%20fill%3D%22%23388E3C%22%2F%3E%3C%2Fsvg%3E");background-size:cover;box-shadow:inset 0 0 12px #00000040;z-index:1}.water{background:linear-gradient(180deg,#3b82f6,#1d4ed8);border-radius:8px;inset:0;overflow:hidden;position:absolute;z-index:1}.water+.water{margin-left:-1px}.grid>.tile:has(+.tile>.water)>.water{margin-right:-1px}.water:before{background:radial-gradient(circle at 70% 20%,#ffffff4d,#0000 40%);inset:0;mix-blend-mode:screen;opacity:.7}.water:after,.water:before{content:"";position:absolute}.water:after{animation:water-move 3s linear infinite;background:repeating-linear-gradient(-45deg,#ffffff0d 0 5px,#0000 5px 10px);inset:-10px;opacity:.5}@keyframes water-move{0%{transform:translateX(0)}to{transform:translateX(-15px)}}.piece-container{align-items:center;display:flex;height:100%;justify-content:center;position:relative;width:100%;z-index:3}.selected-piece .chip{animation:pulse-selected 1.5s ease-in-out infinite;box-shadow:0 0 0 4px #22c55ecc,0 0 20px 4px #22c55e99,0 8px 18px #00000059,inset 0 2px 0 #ffffff40}@keyframes pulse-selected{0%,to{box-shadow:0 0 0 4px #22c55ecc,0 0 20px 4px #22c55e99,0 8px 18px #00000059,inset 0 2px 0 #ffffff40}50%{box-shadow:0 0 0 4px #22c55e,0 0 30px 8px #22c55ecc,0 8px 18px #00000059,inset 0 2px 0 #ffffff40}}.piece-container.hover-scale{position:relative;transform:scale(1.1);transition:transform .2s ease;z-index:150}.sell-button{background:#dc2626;border:none;border-radius:4px;box-shadow:0 2px 4px #0000004d;color:#fff;cursor:pointer;font-size:10px;font-weight:700;padding:4px 8px;transition:background-color .2s ease}.sell-button:hover{background:#b91c1c}.equip-icon{cursor:help;filter:drop-shadow(0 1px 2px rgba(0,0,0,.5));font-size:1.5rem;position:absolute;right:0;top:0;z-index:1}.banner-shield-icon{filter:drop-shadow(0 1px 1px rgba(0,0,0,.4));opacity:.8;right:2px;top:50%;transform:translateY(-50%)}.banner-shield-icon,.veteran-badge{cursor:help;font-size:1.1rem;position:absolute;z-index:1}.veteran-badge{filter:drop-shadow(0 1px 2px rgba(0,0,0,.5));left:2px;opacity:.9;top:2px}.terrain-glyph{bottom:2px;cursor:help;font-size:1.2rem;opacity:.85;position:absolute;right:2px;text-shadow:0 1px 2px #00000080;z-index:4}.supporting-piece .chip{filter:drop-shadow(0 0 18px #3b82f6)}.tile{position:relative}.check{border-radius:9999px;box-shadow:0 0 20px 8px #ef4444b3,inset 0 0 0 4px #ef444480;height:74px;pointer-events:none;top:50%;transform:translate(-50%,-50%);width:74px}.check,.speech-bubble{left:50%;position:absolute}.speech-bubble{word-wrap:break-word;animation:fade-in-out 3.5s ease-in-out forwards;border-radius:12px;bottom:80px;box-shadow:0 4px 10px #0000004d;font-size:14px;font-weight:700;max-width:32ch;padding:8px 12px;transform:translateX(-50%);white-space:normal;width:-webkit-max-content;width:max-content;z-index:300}.speech-emphasis{display:inline-flex;font-size:1.15em;font-weight:900}.speech-letter{animation:letter-wave 1.2s ease-in-out infinite;display:inline-block}@keyframes letter-wave{0%,to{transform:translateY(0)}25%{transform:translateY(-3px)}75%{transform:translateY(3px)}}.speech-bubble:after{border-left:8px solid #0000;border-right:8px solid #0000;bottom:-8px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0}.white-king-bubble{background-color:#fff;color:#000}.white-king-bubble:after{border-top:8px solid #fff}.black-king-bubble{background-color:#222;color:#fff}.black-king-bubble:after{border-top:8px solid #222}@keyframes fade-in-out{0%,to{opacity:0;transform:translate(-50%,10px)}10%,90%{opacity:1;transform:translate(-50%)}}@keyframes fade-in{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.animate-fade-in{animation:fade-in .3s ease-out both}.stun-glyph{animation:spin 1s linear infinite;font-size:2.5rem;left:50%;opacity:.9;position:absolute;text-shadow:0 0 8px #60a5facc;top:50%;transform:translate(-50%,-50%);z-index:5}.exhausted-glyph{animation:pulse-exhausted 2s ease-in-out infinite;filter:drop-shadow(0 1px 2px rgba(0,0,0,.5));font-size:1.8rem}.bell-glyph,.exhausted-glyph{cursor:help;left:2px;opacity:.95;position:absolute;top:2px;z-index:5}.bell-glyph{animation:pulse-bell 2s ease-in-out infinite;filter:drop-shadow(0 1px 3px rgba(255,215,0,.6));font-size:1.6rem}@keyframes spin{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes pulse-exhausted{0%,to{opacity:.95;transform:scale(1)}50%{opacity:.7;transform:scale(.95)}}@keyframes pulse-bell{0%,to{filter:drop-shadow(0 1px 3px rgba(255,215,0,.6));opacity:.95;transform:scale(1)}50%{filter:drop-shadow(0 2px 6px rgba(255,215,0,.9));opacity:1;transform:scale(1.05)}}@keyframes bump{0%{transform:translateY(0) scale(1)}40%{transform:translateY(-6px) scale(1.06)}to{transform:translateY(0) scale(1)}}@keyframes checkmarkDraw{0%{opacity:0;transform:scale(0) rotate(-45deg)}50%{opacity:1;transform:scale(1.2) rotate(0deg)}to{opacity:1;transform:scale(1) rotate(0deg)}}.pbmp{animation:bump .4s ease-in-out both}@keyframes hit{0%{transform:translateX(0)}25%{transform:translateX(-3px)}50%{transform:translateX(3px)}75%{transform:translateX(-1px)}to{transform:translateX(0)}}.hit{animation:hit .35s ease-in-out both}@keyframes destroy{0%{opacity:1;transform:scale(1) rotate(0)}50%{opacity:1;transform:scale(1.1) rotate(5deg)}to{opacity:0;transform:scale(.1) rotate(-15deg)}}.destroyed{animation:destroy .4s ease-in-out forwards}.badge{align-items:center;border-radius:16px;box-shadow:0 10px 24px #00000059;display:inline-flex;font-size:18px;font-weight:900;justify-content:center;left:50%;padding:8px 12px;position:absolute;top:-28px;transform:translateX(-50%);z-index:400}.ok{background:#a7f3d0;color:#0f172a}.bad{background:#ef4444;color:#fff}.expr{gap:8px}.expr,.expr .term{align-items:center;display:flex}.expr .term{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#0000002e;border-radius:9999px;font-size:14px;gap:6px;padding:2px 6px}.plus{font-weight:900;opacity:.9}.odds-container{align-items:center;display:flex;gap:8px;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:0;z-index:120}.supB-odds{background:linear-gradient(180deg,#3b82f6f2,#2563ebf2);border-radius:10px;box-shadow:0 6px 14px #2563eb73;color:#ecf2ff;font-size:12px;font-weight:800;padding:2px 6px}.pct{background:#000;border-radius:9999px;font-size:16px;font-weight:900;padding:4px 10px}.pctG{color:#22c55e}.pctS{color:#3b82f6}.pct-rock{color:#e5c29f}.market-placement-overlay{background-color:#facc1580;border-radius:8px;inset:0;position:absolute;z-index:2}.market-overlay{animation:fadeIn .3s ease-in-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.market-equip-target .chip{animation:pulse-yellow 1.5s infinite;box-shadow:0 0 18px 6px #facc15bf,inset 0 2px 0 #ffffff40}@keyframes pulse-yellow{0%{box-shadow:0 0 18px 6px #facc15bf,inset 0 2px 0 #ffffff40}50%{box-shadow:0 0 24px 10px #facc15,inset 0 2px 0 #ffffff40}to{box-shadow:0 0 18px 6px #facc15bf,inset 0 2px 0 #ffffff40}}.piece-name{background-color:#000000bf;border-radius:4px;bottom:0;box-shadow:0 2px 4px #0006;color:#fff;font-size:11px;font-weight:700;left:50%;max-width:78px;overflow:hidden;padding:2px 4px;pointer-events:none;position:absolute;text-align:center;transform:translateX(-50%);white-space:nowrap;z-index:10}.piece-name.preconfigured{background:linear-gradient(135deg,#d4af37,#f4e4a6 50%,#d4af37);box-shadow:0 2px 4px #0006,inset 0 1px 0 #ffffff4d;color:#1a1a1a;font-weight:900}.tooltip{word-wrap:break-word;background-color:#000000d9;border:1px solid #fff3;border-radius:8px;color:#fff;font-size:14px;max-width:260px;padding:8px 12px;pointer-events:none!important;transform:translateZ(0);will-change:transform}.last-move{background:#facc1559;border-radius:8px;box-shadow:inset 0 0 0 3px #facc158c;inset:0;position:absolute;z-index:2}.moving-piece .chip{transform-origin:50% 50%}@media (prefers-reduced-motion:reduce){.moving-piece{transition:none!important}}.story-card-container{align-items:center;display:flex;height:100vh;justify-content:center;left:0;position:fixed;top:0;width:100vw;z-index:1000}.story-card-overlay{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:#000c;height:100%;left:0;position:absolute;top:0;width:100%}.story-card{background:linear-gradient(180deg,#2a2520,#1a1510);border-radius:20px;box-shadow:0 20px 60px #000c,0 0 0 2px #d4af374d;color:#f5f5f5;display:flex;flex-direction:column;gap:20px;max-width:430px;padding:32px 24px;position:relative;width:90%}.story-card-text{color:#e5e5e5;font-family:Georgia,serif;font-size:22px;font-style:italic;line-height:1.6;min-height:60px;text-align:center}.story-miniature{margin-bottom:20px;width:100%}.miniature-frame{background:linear-gradient(135deg,#e5c29f26,#8b5a2b26);border:3px solid #d4af37;border-radius:12px;box-shadow:0 4px 12px #0006,inset 0 1px 0 #d4af374d,inset 0 -1px 0 #0000004d;display:flex;gap:16px;padding:16px;position:relative}.miniature-frame:after,.miniature-frame:before{color:#d4af37;content:"❦";font-size:20px;position:absolute;text-shadow:0 0 8px #d4af3799;z-index:1}.miniature-frame:before{left:8px;top:8px}.miniature-frame:after{right:8px;top:8px}.miniature-character{align-items:flex-start;display:flex;flex-shrink:0;padding-top:4px}.miniature-speech{background:linear-gradient(180deg,#f5ebdcf2,#e6dcc8f2);border:2px solid #8b5a2b4d;border-radius:12px;box-shadow:0 2px 8px #0000004d,inset 0 1px 0 #fff6;flex:1 1;padding:12px 16px;position:relative}.speech-tail{border-bottom:8px solid #0000;border-right:12px solid #f5ebdcf2;border-top:8px solid #0000;filter:drop-shadow(-2px 0 2px rgba(0,0,0,.2));height:0;left:-12px;position:absolute;top:20px;width:0}.speech-content{color:#2a1810;font-family:Georgia,Times New Roman,serif;font-size:18px;font-style:italic;line-height:1.5;text-shadow:0 1px 1px #ffffff4d}.story-card-image-container{align-items:center;display:flex;height:300px;justify-content:center;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:100%}.story-card-image{border-radius:12px;box-shadow:0 6px 0 #554438,0 4px 0 #554438,0 2px 0 #554438,0 8px 20px #0006;height:100%;overflow:hidden;position:relative;width:100%}.story-card-image-container.idle-hint{animation:story-card-hint-idle 3s ease-in-out infinite}@keyframes story-card-hint-idle{0%,to{transform:translateX(0)}25%{transform:translateX(-12px) rotate(-.5deg)}50%{transform:translateX(0)}75%{transform:translateX(12px) rotate(.5deg)}}.story-card-drag-hint{animation:hand-drag 3s ease-in-out infinite;filter:drop-shadow(0 2px 8px rgba(0,0,0,.4));font-size:48px;opacity:.9;pointer-events:none;position:absolute;right:20px;top:50%;z-index:10}@keyframes hand-drag{0%,to{transform:translateY(-50%)}25%{transform:translate(-25px,-50%)}50%{transform:translateY(-50%)}75%{transform:translate(25px,-50%)}}.story-choice-overlay{align-items:center;background:#000000b3;display:flex;height:100%;justify-content:center;pointer-events:none;position:absolute;top:0;width:50%}.story-choice-overlay.left{background:linear-gradient(90deg,#dc2626cc,#0000);left:0}.story-choice-overlay.right{background:linear-gradient(270deg,#22c55ecc,#0000);right:0}.story-choice-overlay.left.narrator{background:linear-gradient(90deg,#654321d9,#0000)}.story-choice-overlay.right.narrator{background:linear-gradient(270deg,#654321d9,#0000)}.story-choice-text{color:#fff;font-size:20px;font-weight:700;padding:16px;text-align:center;text-shadow:0 2px 8px #000c}.story-card-hint{color:#999;font-size:14px;font-style:italic;margin-top:8px;text-align:center}.story-outcome-area{flex-direction:column;height:300px;padding:20px;width:100%}.story-continue-arrow,.story-outcome-area{align-items:center;display:flex;justify-content:center}.story-continue-arrow{background:linear-gradient(135deg,#10b981,#059669);border:3px solid #34d399;border-radius:30px;bottom:-20px;box-shadow:0 0 24px #10b98166,0 0 12px #0000004d;color:#fff;cursor:pointer;gap:8px;height:60px;min-width:140px;padding:0 20px;position:absolute;right:-20px;transition:all .3s ease;z-index:1000}.story-continue-text{font-size:18px;font-weight:700;letter-spacing:.5px}.story-continue-arrow:hover{background:linear-gradient(135deg,#34d399,#10b981);box-shadow:0 0 32px #10b98199,0 0 16px #0006;transform:scale(1.05) translateX(4px)}.story-continue-arrow:active{transform:scale(1) translateX(2px)}.transition-overlay{background:#0009;inset:0;pointer-events:none;position:fixed;z-index:3000}.transition-banner{background:radial-gradient(ellipse at center,#322314 0,#140c06 60%,#000 100%);box-shadow:inset 0 0 40px #0009;height:100%;position:absolute;top:0;width:50%;z-index:1}.transition-banner.left{animation:banner-left 2.5s ease-in-out forwards;left:0}.transition-banner.right{animation:banner-right 2.5s ease-in-out forwards;right:0}@keyframes banner-left{0%{left:0}70%{left:0}to{left:-50%}}@keyframes banner-right{0%{right:0}70%{right:0}to{right:-50%}}.transition-text{animation:trans-text 2.5s ease-in-out forwards;color:#fef9c3;font-family:Georgia,Times New Roman,serif;font-size:42px;font-weight:700;opacity:0;position:relative;text-shadow:0 4px 8px #0009,0 0 12px #d4af37cc;z-index:4}.transition-text:after,.transition-text:before{animation:sword-appear 2.5s ease-in-out forwards;content:"⚔️";filter:drop-shadow(0 2px 4px rgba(0,0,0,.8));font-size:32px;opacity:0;position:absolute;top:50%;transform:translateY(-50%)}.transition-text:before{animation-delay:.3s;left:-60px}.transition-text:after{animation-delay:.3s;right:-60px}.difficulty-transition-overlay{align-items:center;background:#000;display:flex;inset:0;justify-content:center;overflow:hidden;pointer-events:none;position:fixed;z-index:3000}.difficulty-transition-spiral{animation:spiral-expand 2.5s ease-in-out forwards;background:conic-gradient(from 0deg at 50% 50%,#0000 0deg,#0000 60deg,#0000001a 90deg,#0000004d 120deg,#00000080 150deg,#000000b3 180deg,#000000d9 210deg,#000000f2 240deg,#000 270deg,#000 1turn);border-radius:50%;height:200%;left:50%;mask:radial-gradient(circle,#0000 0,#0000 25%,#0000004d 35%,#000000b3 45%,#000 55%,#000 100%);-webkit-mask:radial-gradient(circle,#0000 0,#0000 25%,#0000004d 35%,#000000b3 45%,#000 55%,#000 100%);position:absolute;top:50%;transform:translate(-50%,-50%);width:200%}@keyframes spiral-expand{0%{height:0;opacity:0;transform:translate(-50%,-50%) rotate(0deg);width:0}20%{opacity:1}80%{height:200%;opacity:1;transform:translate(-50%,-50%) rotate(1turn);width:200%}to{height:200%;opacity:0;transform:translate(-50%,-50%) rotate(540deg);width:200%}}.difficulty-transition-text-container{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:120px;position:relative;z-index:10}.difficulty-transition-line{color:#d4af37;font-family:Georgia,Times New Roman,serif;font-size:48px;font-weight:700;letter-spacing:2px;opacity:1;padding:0 40px;text-align:center;text-shadow:0 0 10px #d4af3780,0 0 20px #d4af374d,0 4px 8px #000c;transition:opacity .5s ease-out;white-space:nowrap}.difficulty-transition-line.fading{opacity:0}.difficulty-transition-line-1,.difficulty-transition-line-2{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}@keyframes trans-text{0%{opacity:0;transform:scale(.8) translateY(-10px)}15%{opacity:1;transform:scale(1.1) translateY(0)}20%{transform:scale(.95) translateY(0)}25%{transform:scale(1.05) translateY(0)}30%{transform:scale(1) translateY(0)}65%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.98) translateY(0)}}@keyframes sword-appear{0%{opacity:0;transform:translateY(-50%) scale(.5) rotate(-20deg)}15%{opacity:1;transform:translateY(-50%) scale(1) rotate(0deg)}65%{opacity:1;transform:translateY(-50%) scale(1) rotate(0deg)}to{opacity:0;transform:translateY(-50%) scale(.8) rotate(10deg)}}.transition-seal{align-items:center;animation:trans-seal 2.5s ease-in-out forwards;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);background:radial-gradient(circle at 50% 50%,#8b5a2b40 0,#3c281499 40%,#140c06f2 70%,#0a0805 100%);border:5px solid #d97706d9;border-radius:50%;box-shadow:0 0 0 2px #000c,0 0 30px #d9770666,inset 0 0 40px #00000080,0 25px 50px -12px #0006;display:flex;height:280px;justify-content:center;left:50%;opacity:1;position:absolute;top:52%;transform:translate(-50%,-50%);width:280px;z-index:3}.transition-seal:before{border:2px solid #eab3084d;border-radius:50%;box-shadow:inset 0 0 20px #eab30833,0 0 15px #d977064d;height:240px;width:240px}.transition-seal:after,.transition-seal:before{content:"";left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:1}.transition-seal:after{background-image:radial-gradient(circle at 50% 20%,#0000 10px,#eab30899 0,#eab308cc 12px,#0000 14px),radial-gradient(circle at 50% 80%,#0000 10px,#eab30899 0,#eab308cc 12px,#0000 14px);background-position:50%;background-repeat:no-repeat;background-size:100% 100%;filter:drop-shadow(0 0 6px rgba(234,179,8,.4));height:100%;width:100%}@keyframes trans-seal{0%{opacity:1;transform:translate(-50%,-50%) scale(.9)}30%{opacity:1;transform:translate(-50%,-50%) scale(1)}70%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.98)}}@keyframes outcomeAppear{0%{opacity:0;transform:translateY(-20px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes outcomePulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes glyphSpin{0%{opacity:0;transform:rotate(0deg) scale(.5)}50%{transform:rotate(180deg) scale(1.2)}to{opacity:1;transform:rotate(1turn) scale(1)}}@keyframes pulse-glow{0%,to{box-shadow:0 0 20px #10b98180,0 0 40px #10b9814d}50%{box-shadow:0 0 30px #10b981cc,0 0 60px #10b98180,0 0 80px #10b9814d}}@keyframes pulse-glow-blue{0%,to{box-shadow:0 0 20px #2563eb80,0 0 40px #2563eb4d}50%{box-shadow:0 0 30px #2563ebcc,0 0 60px #2563eb80,0 0 80px #2563eb4d}}.tutorial-popup{animation:tutorial-appear .3s ease-out;background:linear-gradient(180deg,#2a2520,#1a1510);border-radius:16px;box-shadow:0 20px 60px #000c,0 0 0 3px #d4af3766,inset 0 1px 0 #ffffff1a;max-width:400px;min-width:320px;padding:24px;position:absolute;will-change:transform,opacity;z-index:100}.tutorial-popup-mechanic{margin:0;max-width:420px;overflow:hidden;padding:0;position:absolute}.tutorial-popup-banner{height:auto;overflow:hidden;position:relative;width:100%}.tutorial-popup-banner img{display:block;height:auto;object-fit:contain;width:100%}.tutorial-popup-mechanic .tutorial-popup-content{padding:24px}@keyframes tutorial-appear{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes tutorial-appear-positioned{0%{opacity:0;transform:translateX(-50%) scale(.95)}to{opacity:1;transform:translateX(-50%) scale(1)}}.tutorial-popup-content{display:flex;flex-direction:column;gap:16px}.tutorial-popup-title{color:#fbbf24;font-family:Georgia,serif;font-size:20px;font-weight:700;line-height:1.3;text-align:center;text-shadow:0 2px 4px #0009}.tutorial-popup-subtitle{color:#e5e5e5;font-size:16px;line-height:1.5;margin-bottom:8px;text-align:center}.tutorial-popup-buttons{display:flex;gap:12px;justify-content:center;margin-top:8px}.tutorial-popup-btn{border:none;border-radius:10px;box-shadow:0 4px 8px #0000004d;cursor:pointer;font-size:14px;font-weight:700;letter-spacing:.5px;padding:10px 20px;text-transform:uppercase;transition:all .2s ease}.tutorial-popup-btn-cancel{background:linear-gradient(180deg,#92400e,#78350f);border:1px solid #d9770666;color:#fef3c7}.tutorial-popup-btn-cancel:hover{background:linear-gradient(180deg,#b45309,#92400e);box-shadow:0 6px 12px #0006;transform:translateY(-1px)}.tutorial-popup-btn-confirm{background:linear-gradient(180deg,#10b981,#059669);border:1px solid #10b98166;color:#fff}.tutorial-popup-btn-confirm:hover{background:linear-gradient(180deg,#34d399,#10b981);box-shadow:0 6px 12px #10b98166,0 0 20px #10b98133;transform:translateY(-1px)}.tutorial-popup-btn:active{transform:translateY(0)}.victory-popup-btn{border:none;border-radius:10px;box-shadow:0 4px 8px #0000004d;cursor:pointer;font-size:14px;font-weight:700;letter-spacing:.5px;padding:10px 20px;text-transform:uppercase;transition:all .2s ease;width:100%}.victory-popup-btn-retry{background:linear-gradient(180deg,#f59e0b,#d97706);border:1px solid #f59e0b66;color:#fff}.victory-popup-btn-retry:hover{background:linear-gradient(180deg,#fbbf24,#f59e0b);box-shadow:0 6px 12px #0006,0 0 20px #f59e0b33;transform:translateY(-1px)}.victory-popup-btn-restart{background:linear-gradient(180deg,#451a03,#292524);border:1px solid #78350f66;color:#d4a574}.victory-popup-btn-restart:hover{background:linear-gradient(180deg,#78350f,#451a03);box-shadow:0 6px 12px #0006;color:#fef3c7;transform:translateY(-1px)}.victory-popup-btn:active{transform:translateY(0)}
/*# sourceMappingURL=main.746e82a3.css.map*/